!function(a){a.fn.parallaxSlider=function(e){var i={prevButton:a(".prevButton"),nextButton:a(".nextButton"),duration:1e3,autoSwitcher:!0,autoSwitcherDelay:7e3,slider_navs:!0,scrolling_description:!1,slider_pagination:"buttons_pagination",animateLayout:"zoom-fade-eff",parallaxEffect:"parallax_effect_normal",parallaxInvert:!1,liteMode:!1};a.extend(i,e);var t,n,r,s,o,l,c,d,p,u,m,v,g,b,h,f,x,_=a(this),I=a(window),k=a(document),w=0,C=[],B=!1,z=!1,H=!0,S="parallax_normal",M=_.offset(),T=_.offset().top,P=_.height(),E=I.width(),A=I.height(),L=0;function N(e){switch(currIndex=0,w=0,C=[],C=e.urlArray,L=C.length,a(">ul",x).empty(),i.slider_pagination){case"buttons_pagination":x.addClass("buttons_pagination");for(var n=0;n<L;n++)a(">ul",x).append("<li></li>");break;case"images_pagination":x.addClass("images_pagination");for(n=0;n<L;n++)a(">ul",x).append("<li><img src='"+C[n][1]+"'></li>")}1==L&&(x.remove(),b.remove(),h.remove()),W(0),a(">ul >li",x).on("click",(function(){B||z||a(this).index()===w||(clearInterval(t),W(w=a(this).index()))}))}function D(){B||z||(w>0?w--:w=L-1,W(w))}function R(){B||z||(w<L-1?w++:w=0,W(w))}function W(e){f.text(e+1+"/"+L),a(">ul >li",x).removeClass("active").eq(e).addClass("active"),j(d,0,"ease"),d.addClass("animateState"),u.html(C[e][2]),j(u,0,"ease"),u.addClass("animateState"),B=!0,z=!0,g.css({display:"block"}).stop().fadeTo(300,1),(o=new Image).src=C[e][0],o.onload=function(){B=!1,g.stop().fadeTo(300,0,(function(){a(this).css({display:"none"})})),primaryImage=a(">.imgBlock",d),i.liteMode?primaryImage.attr("src",o.src):primaryImage.css("background-image","url("+o.src+")"),q(primaryImage,E,r),j(d,i.duration,"outCubic"),d.removeClass("animateState"),j(secondarImageHolder,i.duration,"outCubic"),secondarImageHolder.addClass("animateState"),j(u,i.duration,"outCubic"),u.removeClass("animateState"),j(m,i.duration,"outCubic"),m.addClass("animateState"),v.height(u.height()),setTimeout((function(){secondarImage=a(">.imgBlock",secondarImageHolder),i.liteMode?secondarImage.attr("src",o.src):secondarImage.css("background-image","url("+o.src+")"),q(secondarImage,E,r),j(secondarImageHolder,0,"ease"),secondarImageHolder.removeClass("animateState"),m.html(C[e][2]),j(m,0,"ease"),m.removeClass("animateState"),z=!1}),i.duration)}}function j(a,e,i){var t;switch(t=0!==e?e/1e3:0,i){case"ease":a.css({"-webkit-transition":"all "+t+"s ease","-moz-transition":"all "+t+"s ease","-o-transition":"all "+t+"s ease",transition:"all "+t+"s ease"});break;case"outSine":a.css({"-webkit-transition":"all "+t+"s cubic-bezier(0.470, 0.000, 0.745, 0.715)","-moz-transition":"all "+t+"s cubic-bezier(0.470, 0.000, 0.745, 0.715)","-o-transition":"all "+t+"s cubic-bezier(0.470, 0.000, 0.745, 0.715)",transition:"all "+t+"s cubic-bezier(0.470, 0.000, 0.745, 0.715)"});break;case"outCubic":a.css({"-webkit-transition":"all "+t+"s cubic-bezier(0.215, 0.610, 0.355, 1.000)","-moz-transition":"all "+t+"s cubic-bezier(0.215, 0.610, 0.355, 1.000)","-o-transition":"all "+t+"s cubic-bezier(0.215, 0.610, 0.355, 1.000)",transition:"all "+t+"s cubic-bezier(0.215, 0.610, 0.355, 1.000)"});break;case"outExpo":a.css({"-webkit-transition":"all "+t+"s cubic-bezier(0.190, 1.000, 0.220, 1.000)","-moz-transition":"all "+t+"s cubic-bezier(0.190, 1.000, 0.220, 1.000)","-o-transition":"all "+t+"s cubic-bezier(0.190, 1.000, 0.220, 1.000)",transition:"all "+t+"s cubic-bezier(0.190, 1.000, 0.220, 1.000)"});break;case"outBack":a.css({"-webkit-transition":"all "+t+"s cubic-bezier(0.175, 0.885, 0.320, 1.275)","-moz-transition":"all "+t+"s cubic-bezier(0.175, 0.885, 0.320, 1.275)","-o-transition":"all "+t+"s cubic-bezier(0.175, 0.885, 0.320, 1.275)",transition:"all "+t+"s cubic-bezier(0.175, 0.885, 0.320, 1.275)"})}}function q(a,e,t){var n,r,s,l,c,d;n=o.width,r=o.height,containerRatio=t/e,containerRatio>r/n?(l=t,s=Math.round(l*n/r)):(s=e,l=Math.round(s*r/n)),d=.5*-(s-e),c=.5*-(l-t),i.liteMode?a.css({width:s,height:l,marginTop:c,marginLeft:d}):a.css({width:"100%",height:l,marginTop:c})}function F(){switch(S){case"parallax_normal":baseHeight=T<A-P?P+parseInt(T/s):P+parseInt((A-P)/s);break;case"parallax_invert":T<Math.abs(A-P)?baseHeight=P+parseInt((T+P)/s):baseHeight=P+parseInt((A+P)/s);break;case"parallax_fixes":baseHeight=T+P<A?T+P:A;break;case"parallax_none":baseHeight=P}return baseHeight}!function(){n=[],a("ul li",_).each((function(){n.push([a(this).attr("data-preview"),a(this).attr("data-thumb-url"),a(this).html()])})),_.html(""),_.addClass(i.animateLayout),imgBlocksStructure=i.liteMode?"<div id='mainImageHolder'><div class='primaryHolder'><img class='imgBlock' src='' alt=''/></div><div class='secondaryHolder'><img class='imgBlock' src='' alt=''/></div></div>":"<div id='mainImageHolder'><div class='primaryHolder'><div class='imgBlock' style='background-image: url(images/slide-1.jpg);'></div></div><div class='secondaryHolder'><div class='imgBlock' style='background-image: url(images/slide-1.jpg);'></div></div></div>",_.append(imgBlocksStructure),c=a("#mainImageHolder"),d=a("> .primaryHolder",c),secondarImageHolder=a("> .secondaryHolder",c),l=a(".imgBlock",c),_.append("<div id='mainCaptionHolder'><div class='container'><div class='primaryCaption'></div><div class='secondaryCaption'></div></div></div>"),p=a("#mainCaptionHolder"),u=a(".primaryCaption",p),m=a(".secondaryCaption",p),v=a(">.container",p),_.append("<div class='controlBtn parallaxPrevBtn'><div class='innerBtn icon-angle-left'></div><div class='slidesCounter'></div></div><div class='controlBtn parallaxNextBtn'><div class='innerBtn icon-angle-right'></div><div class='slidesCounter'></div></div>"),b=a(".parallaxPrevBtn",_),h=a(".parallaxNextBtn",_),_.append("<div id='paralaxSliderPagination'><ul></ul></div>"),x=a("#paralaxSliderPagination"),f=a(".slidesCounter",_),_.append("<div id='previewSpinner'><span></span></div>"),g=a("#previewSpinner"),_.on("reBuild",(function(a,e){N(e)})),_.on("switchNext",(function(a){R()})),_.on("switchPrev",(function(a){D()})),N({urlArray:n}),i.slider_navs||(b.remove(),h.remove());"none_pagination"==i.slider_pagination&&x.remove();i.liteMode&&(i.parallaxEffect="parallax_none");switch(i.parallaxEffect){case"parallax_effect_low":S=i.parallaxInvert?"parallax_invert":"parallax_normal",s=3;break;case"parallax_effect_normal":S=i.parallaxInvert?"parallax_invert":"parallax_normal",s=2.25;break;case"parallax_effect_high":S=i.parallaxInvert?"parallax_invert":"parallax_normal",s=1.5;break;case"parallax_effect_fixed":a.browser.msie?(H=!1,l.css({backgroundAttachment:"fixed"})):S="parallax_fixes",s=1;break;default:H=!1,S="parallax_none"}r=F(),i.prevButton.on("click",(function(){clearInterval(t),D()})),i.nextButton.on("click",(function(){clearInterval(t),R()})),b.on("click",(function(){clearInterval(t),D()})),h.on("click",(function(){clearInterval(t),R()})),I.on("keydown",(function(a){switch(a.keyCode){case 37:clearInterval(t),D();break;case 39:clearInterval(t),R()}})),a(window).on("scroll",(function(){var a;(H||i.scrolling_description&&!i.liteMode)&&(T=M.top,(a=k.scrollTop())+A>T&&a-P<T&&(y=a-T,H&&(i.parallaxInvert?T<Math.abs(A-P)?newPositionTop=-parseInt(y/s)-parseInt(T/s):newPositionTop=-parseInt(y/s)-parseInt(A/s):newPositionTop=parseInt(y/s),c.css({top:newPositionTop+"px"})),i.scrolling_description&&(description_opacity=(1-y/P).toFixed(2),description_opacity<1&&p.css("opacity",description_opacity),description_offset=parseInt(y/2.5),description_offset>0?p.css("top",description_offset):p.css("top","0px"))))})).trigger("scroll"),a(window).on("resize",(function(){E=I.width(),A=I.height(),_thisWidth=_.width(),P=_.height(),r=F(),q(l,_thisWidth,r)})),i.autoSwitcher&&L>1&&(t=setInterval((function(){R()}),i.autoSwitcherDelay))}()}}(jQuery);