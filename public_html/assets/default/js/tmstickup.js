!function(e){e.fn.tmStickUp=function(o){var t={correctionSelector:e(".correctionSelector"),listenSelector:e(".listenSelector"),active:!1,pseudo:!0};e.extend(t,o);var s,c,i=e(this),r=e(window),n=e(document),l=0,p=0,a=0,u=0;!function(){l=parseInt(i.offset().top),parseInt(i.css("margin-top")),p=parseInt(i.outerHeight(!0)),t.pseudo&&(e('<div class="pseudoStickyBlock"></div>').insertAfter(i),(s=e(".pseudoStickyBlock")).css({position:"relative",display:"block"}));t.active&&n.on("scroll",(function(){c=e(this).scrollTop(),c>u?"down":"up",u=c,0!=t.correctionSelector.length?correctionValue=t.correctionSelector.outerHeight(!0):correctionValue=0,a=parseInt(r.scrollTop()),l-correctionValue<a?(i.addClass("isStuck"),t.listenSelector.addClass("isStuck"),t.pseudo?(i.css({position:"fixed",top:correctionValue}),s.css({height:p})):i.css({position:"fixed",top:correctionValue})):(i.removeClass("isStuck"),t.listenSelector.removeClass("isStuck"),t.pseudo?(i.css({position:"relative",top:0}),s.css({height:0})):i.css({position:"absolute",top:0}))})).trigger("scroll")}(),r.on("resize",(function(){l=parseInt(i.offset().top)}))}}(jQuery);